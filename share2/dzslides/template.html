<!DOCTYPE html>

<meta charset="utf-8">
<title>Decaying Free Software Communities vs. Emerging Hackerspaces</title>

<!-- Your Slides -->
<!-- One section is one slide -->

<section>
    <!-- This is the first slide -->
    <h3>Decaying Free Software Communities vs. Emerging Hackerspaces</h3>
    <footer><img style="float:center" src="../images/garland_2s.mk_logo_0.png">&nbsp;<img style="float:center" src="../images/Kika-logo-white-malo.jpg"> by Igor Stamatovski &amp; Tamara Atanasoska</footer>
  <details></details>
</section>

<section>
    <h2>I Past</h2>
</section>
<section>
    <h2>II Present</h2>
</section>
<section>
    <h2>III Future</h2>
</section>

<section>
<blockquote>
	Conclusion
</blockquote>
</section>

<section>
    <h2>I Past</h2>
</section>

<section>
  <blockquote>
    0.Young rebels with a noble cause
  </blockquote>
<details>
<ul>
      <li> To promote free software, an unknown public good, in the region were piracy reigned and Microsoft, Adobe, Corel, were reguriting people 
	      by the dosens.
</ul>
</details>
</section>

<section>
    <figure> 
      <img src="../images/fs-community.jpg">
      <figcaption>An image</figcaption>
    </figure>
    <details>Comments </details>
</section>

<section>
<p>Group of hackers in our late teens and early twenties, defending a righteous
	cause in Macedonia, to promote free software</p>
    <footer></footer>
    <details>
    <ul>
	  <li>  People were starting companies based on "free" pirated Microsoft software. </li>
	  <li> A new economy was being born in republics of the former yugoslavia. </li>
	  <li> We felt that investing in the proprietary software model was a tricky proposal, and we wanted our voice to be heard that we knew about something better.</li>
	  <li> Someting new, something radical</li>
      </ul>
  </details>
</section>

<section>
  <blockquote>
   1.Promoting free software, free culture and open standards
  </blockquote>
</section>

<section>
	<h3>To promote free software in our society </h3>
	We went grass roots and setup a ngo organisation with a mission to
      <ul class="incremental">
	<li>Explore the technical and technological aspects
	<li>social and economical effects of free software on our society.
	</ul>
    <footer></footer>
    <details>
    <ul>
      <li>We had a website, we had mailing list(s), an rss agregator, we setup
	    the infrastructure both technical, organisational and legal.
      <li>A community was being born, from people who shared the idea that free software was "The right thing to do."
      <li>  Shared a set of common values, about sharing, helping, about openness.
      </ul>
  </details>
</section>

<section>
  <h3>We admired the "hacker ethics" of the late 70's at MIT </h3>
  <ul class="incremental">
    <li>Sharing
    <li>Openness
    <li>Decentralization
    <li> Community and colaboration
  </ul>
</section>
<details>
Their values about:
</details>
<section>
  <blockquote>
   2. Couple of hacks 
  </blockquote>
</section>

<section>
    <figure> 
      <img src="../images/206.jpg">
      <figcaption>Localization marathon in 2002</figcaption>
    </figure>
    <details>
	<ul>
	<li>We wanted to show ordinary people and users the benefits of freesoftware. And whait is the greatest benefit of them all to someone who doesn't
		understand software nor english. Well localization. You can translate it into your own language and you can use them in your own language.
		Hell the goverment had to pay microsoft 4 milion euros for that. We did it 2 years before, to show that it can be done, and to teach the people 
		the benefit of free software.
      </details>
</section>
  <section>
    <h3> L10n everything <h3> 
  </section>
<section>
    <figure> 
      <img src="../images/img_9616.jpg">
      <figcaption>Localization marathon in 2005</figcaption>
    </figure>
    <details>
	<ul>
	<li>We localized the complete desktop stack in Macedonian, OpenOffice, Mozilla, KDE, GNOME, etc.
      </details>
</section>

<section>
      <figure> 
      <img src="../images/odgovor_04-02-2004.png">
      <figcaption>We fought the goverment before they signed the agreement with microsoft</figcaption>
    </figure>
    <details>
	<ul>
	<li>We published letters, we got support from John Hall from Linux International
      </details>
</section>

<section>
    <figure> 
      <img src="../images/001dscf0477.jpg">
      <figcaption>Free software flood in 2004 / 1</figcaption>
    </figure>
    <details>
	<ul>
	<li>We organized the "Free software flood", on the Microsoft Vizija conference in Skopje, 
	  were we handout GNU/Linux CDs to participants  iin front of the conference venue.
      </details>
</section>

<section>
    <figure> 
      <img src="../images/2004_02-flood.jpg">
      <figcaption>Free software flood in 2004 / 2 </figcaption>
    </figure>
    <details>
	<ul>
	<li>When they signed we hacked them on their own playing field, 
	<li> Saying It is already legal
	<li>There were not many of us, but we were determined and we were smart :)
      </details>
</section>

<section>
    <figure> 
      <img src="../images/p1000190.jpg">
      <figcaption>Lecture to students of journalism from 2003 till 2009 </figcaption>
    </figure>
    <details>
	<ul>
	<li>We gave lectures to university students at the faculty of law at the section for journalism
      </details>
</section>
<section>
    <figure> 
      <img src="../images/2115407192_529cfb9b46_b.jpg">
      <figcaption>We hacked OLPC for UNDP</figcaption>
    </figure>
    <details>
	<ul>
	<li>so their pilot in Macedonia can suceed.
      </details>
</section>
<section>
    <figure> 
      <img src="../images/2115407194_e0451b194c_b.jpg">
      <figcaption>We were having a hell of a great time</figcaption>
    </figure>
    <details>
	<ul>
	<li> It shows right :)
      </details>
</section>
<section>
<h3>We were trying to build a reputation at home and abroad</h3>    
<ul>
	<li>We organised workshops for UNDP Albania
	<li>We implemented a project about FLOSS in local selfgovernent in MK
</li>
    <details>
	<ul>
	<li>We organised workshops for UNDP Albania
	<li>We implemented a project about FLOSS in local selfgovernent in MK
</li>
      </details>
</section>

<section>
  <blockquote>
   2. Three main failures
  </blockquote>
</section>

<section>
    <h2>1. Funding </h2>
</section>

<section>
  <blockquote>
	No matter where we applied, we got a big “No”. The usual donors, were not interested in us.
  </blockquote>
<details>
Nevertheless, the organizations was rarely without any money to fund some of its activities. 
This was mostly due to our participation on other projects (such as UNDP led ones), 
where some of the members got honorarium for their work, which they later donated for the general activities of the organization. 
</details>
</section>

<section>
    <h2>2. Representation</h2>
</section>
<section>
  <blockquote>
	  Who or what is Free Software Macedonia, and what do we do?
	  We never were under any "umbrella". For bad or for worse.
  </blockquote>
<details>
Sometimes the ignorance goes even further. 
On one predominantly free software project led by a foreign agency, 
we were asked how can we possibly help with their project. 
Of course the obvious overlap of the name of the organization and the free software project 
was not enough to make the connection that it could be useful if FSM got involved. 
They actually screwed up localization, we warned and they did not listen. Now nobody cares about localization any more.
</details>
</section>

<section>
    <h2>3. Shrinking of the community</h2>
</section>

<section>
  <blockquote>
  New people rarely join and many of the activists have just moved on.  </blockquote>
</blockquote>
<details>
This is especially interesting because the usage of GNU/Linux and free software in general has grown. 
The users however don't seem to bother with any of the issues surrounding the community. 
</details>
</section>

<section>
    <h2>Something had to be done</h2>
</section>

<section>
    <figure> 
      <img src="../images/324609678.jpg">
      <figcaption>Back to the drawing board </figcaption>
    </figure>
    <details>
    </details>
</section>

<section>
  <blockquote>4.Reboot</blockquote>
</blockquote>
<details>
* We took the risk and in 2009, in early september, I made a call for
	* participation and people pledged money for rent we were going to
	* fund a hacklab. Finally.
</details>
</section>

<section>
    <figure> 
      <img src="../images/5654341709_80049c132b_b.jpg">
      <figcaption>Welcome to KIKA</figcaption>
    </figure>
    <details>
Information
Kulture
Autonomy
    </details>
</section>

<section>
    <h2>II Present</h2>
</section>

<section>
  <blockquote>5.Hacker culture and free software</blockquote>
</blockquote>
<details>
</details>
</section>

<section>
    <h3>The hacker ethics were</h3>
  <ul class="incremental">
    <li>Sharing
    <li>Openness
    <li>Decentralization
    <li> Community and colaboration
  </ul>
<details>
It seems that these are the actual values that we from the free software
community shared, so all of a sudden we felt like we knew what we were doing.
We were there once before, in the past, when we build our free software
community. Now we had to be a little bit broader, to attract people intrested in
technology and to promote the hacker etics.
</details>
</section>

<section>
  <blockquote>6. We rebuild NARODNA TEHNIKA</blockquote>
</blockquote>
<details>
In an half empty, half ruined, building from 1949 in the former
premises of the geological institute we found refuge.
Together with a group of artist we shared rent, it was like Berlin
in the 1990s, a semi like squat, a fully run community space.
</details>
</section>

<section>
  <blockquote> KIKA 1.0 had to close after 1.5 years in late 2011</blockquote>
<details>    The artists made a 1000 eur bill for electricity, that didn';t stop us, we build a paralel power grid ,but then the building got condemned and 
gov institutions will be build on the premises</details>
</section>

<section>
    <figure> 
      <img src="../images/DSCF1558.JPG">
      <figcaption>GNOME Women outreach 2010</figcaption>
    </figure>
    <details>    </details>
</section>

<section>
  <h2>It was a success!</h2>
<details>
People for paying rent and membership fees, we were independant
It proved it could be done
The community started growing again
</details>
<details> 
</details>
</section>

<section>
    <figure> 
      <img src="../images/led-kocka.jpg">
      <figcaption>Wow!</figcaption>
    </figure>
    <details>
We actually rebuild the computer section of the popular Narodna Tehnika in
former yugoslavia. Right at the moment when the actual Nardona Tehnika
building, and infrastructure got sold and a university for toursim and
business evicted the previous space.
    </details>
</section>

<section>
  <h3>7.Activities</h3>
<img src="../images/Kika-logo-white.jpg">
<ul class="incremental">
<li>Gnu/Linux/Android first aid
<li>Programmming languages
<li>Knowledge sharing Сподели Знаење
<li>GNOME Women Outreach
</ul>
<footer></footer>
<details>
</details>
</section>

<section>
  <h3>7.Activities</h3>
<img src="../images/Kika-logo-white.jpg">
<ul class="incremental">
<li>GSOC (Google Summer of Code)
<li>Hardware hacking We build the led cube.
<li>Small but manu different infrastructure project for the hacklab itself
<li>A weekly radio show for on Kanal 103, Macedonian Radio
</ul>
<footer></footer>
<details>
</details>
</section>


<section>
    <h2>III Future</h2>
</section>
<section>
<h3>TODOs</h3>
<ul>
<li>Funding is stable, but get aditional funding for hardware projects, infrastructure and travel
<li>Expand cooperation with HKLBGD and MAMA in Zagreb
<li>Hackers in residence exchange programme
<li>World domination
</ul>
<details>
</details>
</section>

<section>
    <h2>Conclusion</h2>
</section>

<section>
  <h3>Write to us!</h3>
<img src="../images/kika-crno-horizontalno-malo.jpg">
<p>igor@slobodensoftver.org.mk </p>
<p>tamara@slobodensoftver.org.mk</p>
<details>
A small group of people, made a change when they started Free Software Macedonia 10 years ago
A community was created to help that small group of people so we can grow and expand, but still share our ideas and values

That community decayed over time, but with the help of a small group of 
people that shared the original ideas and hacker ethichs managed to emerge as the founding force behind the KIKA hacklab in Skopje.
</details>
</section>

<section>
    <figure> 
      <img src="../images/2002-01-start.jpg">
      <figcaption-bottom>Thank you and see you in Skopje @ KIKA</figcaption-bottom>
    </figure>
<details>
But lets see what the future holds for everyone.
There are many ideas and visions of what KIKA should be, and how it should look like but let's leave that for the future. 
</details>
</section>



<!--
<section>
    <h3>An incremental list</h3>
    <ul class="incremental">
      <li>Item 1
      <li>Item 2
      <li>Item 3
    </ul>
    <details>Some notes. They are only visible using onstage shell.</details>
</section>

<section>
  <blockquote>
    Who's brave enough to fly into something we all keep calling a death sphere?
  </blockquote>
</section>

<section>
    <h2>Part two</h2>
</section>


<section>
    <figure> 
      <img src="http://placekitten.com/g/800/600">
      <figcaption>An image</figcaption>
    </figure>
    <details>Kittens are so cute!</details>
</section>

<section>
    <figure>
      <video src="http://videos-cdn.mozilla.net/brand/Mozilla_Firefox_Manifesto_v0.2_640.webm" poster="http://www.mozilla.org/images/about/poster.jpg"></video>
      <figcaption>A video</figcaption>
    </figure>
</section>

<section>
    <h2>End!</h2>
</section>
-->

<!-- Your Style -->
<!-- Define the style of your presentation -->

<!-- Maybe a font from http://www.google.com/webfonts ? -->
<link href='http://fonts.googleapis.com/css?family=Oswald' rel='stylesheet'>

<style>
  html { background-color: black; }
  body { background-color: white; border-radius: 12px}
  /* A section is a slide. It's size is 800x600, and this will never change */
  section {
      /* The font from Google */
      font-family: 'Oswald', arial, serif;
      font-size: 30px;
  }
  h1, h2 {
    margin-top: 200px;
    text-align: center;
    font-size: 80px;
  }
  h3 {
    margin: 100px 0 50px 100px;
  }

  ul {
      margin: 50px 200px;
  }

  p {
    margin: 75px;
    font-size: 50px;
  }

  blockquote {
    height: 100%;
    background-color: black;
    color: white;
    font-size: 60px;
    padding: 50px;
  }
  blockquote:before {
    content: open-quote;
  }
  blockquote:after {
    content: close-quote;
  }

  /* Figures are displayed full-page, with the caption
     on top of the image/video */
  figure {
    background-color: black;
  }
  figcaption {
    margin: 70px;
    font-size: 50px;
float:right;
  }

figcaption-bottom {
    margin: 100x;
    font-size: 50px;
    float:right;
  }

  footer {
    position: absolute;
    bottom: 0;
    width: 100%;
    padding: 40px;
    text-align: right;
    background-color: #F3F4F8;
    border-top: 1px solid #CCC;
  }

  /* Transition effect */
  /* Feel free to change the transition effect for original
     animations. See here:
     https://developer.mozilla.org/en/CSS/CSS_transitions
     How to use CSS3 Transitions: */
  section {
      -moz-transition: left 400ms linear 0s;
      -webkit-transition: left 400ms linear 0s;
      -ms-transition: left 400ms linear 0s;
      transition: left 400ms linear 0s;
  }

  /* Before */
  section { left: -150%; }
  /* Now */
  section[aria-selected] { left: 0; }
  /* After */
  section[aria-selected] ~ section { left: +150%; }

  /* Incremental elements */

  /* By default, visible */
  .incremental > * { opacity: 1; }

  /* The current item */
  .incremental > *[aria-selected] { opacity: 1; }

  /* The items to-be-selected */
  .incremental > *[aria-selected] ~ * { opacity: 0; }

  /* The progressbar, at the bottom of the slides, show the global
     progress of the presentation. */
  #progress-bar {
    height: 2px;
    background: #AAA;
  }
</style>

<!-- {{{{ dzslides core
#
#
#     __  __  __       .  __   ___  __
#    |  \  / /__` |    | |  \ |__  /__`
#    |__/ /_ .__/ |___ | |__/ |___ .__/ core :€
#
#
# The following block of code is not supposed to be edited.
# But if you want to change the behavior of these slides,
# feel free to hack it!
#
-->

<div id="progress-bar"></div>

<!-- Default Style -->
<style>
  * { margin: 0; padding: 0; -moz-box-sizing: border-box; -webkit-box-sizing: border-box; box-sizing: border-box; }
  details { display: none; }
  body {
    width: 800px; height: 600px;
    margin-left: -400px; margin-top: -300px;
    position: absolute; top: 50%; left: 50%;
    overflow: hidden;
  }
  section {
    position: absolute;
    pointer-events: none;
    width: 100%; height: 100%;
  }
  section[aria-selected] { pointer-events: auto; }
  html { overflow: hidden; }
  body { display: none; }
  body.loaded { display: block; }
  .incremental {visibility: hidden; }
  .incremental[active] {visibility: visible; }
  #progress-bar{
    bottom: 0;
    position: absolute;
    -moz-transition: width 400ms linear 0s;
    -webkit-transition: width 400ms linear 0s;
    -ms-transition: width 400ms linear 0s;
    transition: width 400ms linear 0s;
  }
  figure {
    width: 100%;
    height: 100%;
  }
  figure > * {
    position: absolute;
  }
  figure > img, figure > video {
    width: 100%; height: 100%;
  }
</style>

<script>
  var Dz = {
    remoteWindows: [],
    idx: -1,
    step: 0,
    slides: null,
    progressBar : null,
    params: {
      autoplay: "1"
    }
  };

  Dz.init = function() {
    document.body.className = "loaded";
    this.slides = $$("body > section");
    this.progressBar = $("#progress-bar");
    this.setupParams();
    this.onhashchange();
    this.setupTouchEvents();
    this.onresize();
  }
  
  Dz.setupParams = function() {
    var p = window.location.search.substr(1).split('&');
    p.forEach(function(e, i, a) {
      var keyVal = e.split('=');
      Dz.params[keyVal[0]] = decodeURIComponent(keyVal[1]);
    });
  // Specific params handling
    if (!+this.params.autoplay)
      $$.forEach($$("video"), function(v){ v.controls = true });
  }

  Dz.onkeydown = function(aEvent) {
    // Don't intercept keyboard shortcuts
    if (aEvent.altKey
      || aEvent.ctrlKey
      || aEvent.metaKey
      || aEvent.shiftKey) {
      return;
    }
    if ( aEvent.keyCode == 37 // left arrow
      || aEvent.keyCode == 38 // up arrow
      || aEvent.keyCode == 33 // page up
    ) {
      aEvent.preventDefault();
      this.back();
    }
    if ( aEvent.keyCode == 39 // right arrow
      || aEvent.keyCode == 40 // down arrow
      || aEvent.keyCode == 34 // page down
    ) {
      aEvent.preventDefault();
      this.forward();
    }
    if (aEvent.keyCode == 35) { // end
      aEvent.preventDefault();
      this.goEnd();
    }
    if (aEvent.keyCode == 36) { // home
      aEvent.preventDefault();
      this.goStart();
    }
    if (aEvent.keyCode == 32) { // space
      aEvent.preventDefault();
      this.toggleContent();
    }
    if (aEvent.keyCode == 70) { // f
      aEvent.preventDefault();
      this.goFullscreen();
    }
  }

  /* Touch Events */

  Dz.setupTouchEvents = function() {
    var orgX, newX;
    var tracking = false;

    var db = document.body;
    db.addEventListener("touchstart", start.bind(this), false);
    db.addEventListener("touchmove", move.bind(this), false);

    function start(aEvent) {
      aEvent.preventDefault();
      tracking = true;
      orgX = aEvent.changedTouches[0].pageX;
    }

    function move(aEvent) {
      if (!tracking) return;
      newX = aEvent.changedTouches[0].pageX;
      if (orgX - newX > 100) {
        tracking = false;
        this.forward();
      } else {
        if (orgX - newX < -100) {
          tracking = false;
          this.back();
        }
      }
    }
  }

  /* Adapt the size of the slides to the window */

  Dz.onresize = function() {
    var db = document.body;
    var sx = db.clientWidth / window.innerWidth;
    var sy = db.clientHeight / window.innerHeight;
    var transform = "scale(" + (1/Math.max(sx, sy)) + ")";

    db.style.MozTransform = transform;
    db.style.WebkitTransform = transform;
    db.style.OTransform = transform;
    db.style.msTransform = transform;
    db.style.transform = transform;
  }


  Dz.getDetails = function(aIdx) {
    var s = $("section:nth-of-type(" + aIdx + ")");
    var d = s.$("details");
    return d ? d.innerHTML : "";
  }

  Dz.onmessage = function(aEvent) {
    var argv = aEvent.data.split(" "), argc = argv.length;
    argv.forEach(function(e, i, a) { a[i] = decodeURIComponent(e) });
    var win = aEvent.source;
    if (argv[0] === "REGISTER" && argc === 1) {
      this.remoteWindows.push(win);
      this.postMsg(win, "REGISTERED", document.title, this.slides.length);
      this.postMsg(win, "CURSOR", this.idx + "." + this.step);
      return;
    }
    if (argv[0] === "BACK" && argc === 1)
      this.back();
    if (argv[0] === "FORWARD" && argc === 1)
      this.forward();
    if (argv[0] === "START" && argc === 1)
      this.goStart();
    if (argv[0] === "END" && argc === 1)
      this.goEnd();
    if (argv[0] === "TOGGLE_CONTENT" && argc === 1)
      this.toggleContent();
    if (argv[0] === "SET_CURSOR" && argc === 2)
      window.location.hash = "#" + argv[1];
    if (argv[0] === "GET_CURSOR" && argc === 1)
      this.postMsg(win, "CURSOR", this.idx + "." + this.step);
    if (argv[0] === "GET_NOTES" && argc === 1)
      this.postMsg(win, "NOTES", this.getDetails(this.idx));
  }

  Dz.toggleContent = function() {
    // If a Video is present in this new slide, play it.
    // If a Video is present in the previous slide, stop it.
    var s = $("section[aria-selected]");
    if (s) {
      var video = s.$("video");
      if (video) {
        if (video.ended || video.paused) {
          video.play();
        } else {
          video.pause();
        }
      }
    }
  }

  Dz.setCursor = function(aIdx, aStep) {
    // If the user change the slide number in the URL bar, jump
    // to this slide.
    aStep = (aStep != 0 && typeof aStep !== "undefined") ? "." + aStep : ".0";
    window.location.hash = "#" + aIdx + aStep;
  }

  Dz.onhashchange = function() {
    var cursor = window.location.hash.split("#"),
        newidx = 1,
        newstep = 0;
    if (cursor.length == 2) {
      newidx = ~~cursor[1].split(".")[0];
      newstep = ~~cursor[1].split(".")[1];
      if (newstep > Dz.slides[newidx - 1].$$('.incremental > *').length) {
        newstep = 0;
        newidx++;
      }
    }
    this.setProgress(newidx, newstep);
    if (newidx != this.idx) {
      this.setSlide(newidx);
    }
    if (newstep != this.step) {
      this.setIncremental(newstep);
    }
    for (var i = 0; i < this.remoteWindows.length; i++) {
      this.postMsg(this.remoteWindows[i], "CURSOR", this.idx + "." + this.step);
    }
  }

  Dz.back = function() {
    if (this.idx == 1 && this.step == 0) {
      return;
    }
    if (this.step == 0) {
      this.setCursor(this.idx - 1,
                     this.slides[this.idx - 2].$$('.incremental > *').length);
    } else {
      this.setCursor(this.idx, this.step - 1);
    }
  }

  Dz.forward = function() {
    if (this.idx >= this.slides.length &&
        this.step >= this.slides[this.idx - 1].$$('.incremental > *').length) {
        return;
    }
    if (this.step >= this.slides[this.idx - 1].$$('.incremental > *').length) {
      this.setCursor(this.idx + 1, 0);
    } else {
      this.setCursor(this.idx, this.step + 1);
    }
  }

  Dz.goStart = function() {
    this.setCursor(1, 0);
  }

  Dz.goEnd = function() {
    var lastIdx = this.slides.length;
    var lastStep = this.slides[lastIdx - 1].$$('.incremental > *').length;
    this.setCursor(lastIdx, lastStep);
  }

  Dz.setSlide = function(aIdx) {
    this.idx = aIdx;
    var old = $("section[aria-selected]");
    var next = $("section:nth-of-type("+ this.idx +")");
    if (old) {
      old.removeAttribute("aria-selected");
      var video = old.$("video");
      if (video) {
        video.pause();
      }
    }
    if (next) {
      next.setAttribute("aria-selected", "true");
      var video = next.$("video");
      if (video && !!+this.params.autoplay) {
        video.play();
      }
    } else {
      // That should not happen
      this.idx = -1;
      // console.warn("Slide doesn't exist.");
    }
  }

  Dz.setIncremental = function(aStep) {
    this.step = aStep;
    var old = this.slides[this.idx - 1].$('.incremental > *[aria-selected]');
    if (old) {
      old.removeAttribute('aria-selected');
    }
    var incrementals = $$('.incremental');
    if (this.step <= 0) {
      $$.forEach(incrementals, function(aNode) {
        aNode.removeAttribute('active');
      });
      return;
    }
    var next = this.slides[this.idx - 1].$$('.incremental > *')[this.step - 1];
    if (next) {
      next.setAttribute('aria-selected', true);
      next.parentNode.setAttribute('active', true);
      var found = false;
      $$.forEach(incrementals, function(aNode) {
        if (aNode != next.parentNode)
          if (found)
            aNode.removeAttribute('active');
          else
            aNode.setAttribute('active', true);
        else
          found = true;
      });
    } else {
      setCursor(this.idx, 0);
    }
    return next;
  }

  Dz.goFullscreen = function() {
    var html = $('html'),
        requestFullscreen = html.requestFullscreen || html.requestFullScreen || html.mozRequestFullScreen || html.webkitRequestFullScreen;
    if (requestFullscreen) {
      requestFullscreen.apply(html);
    }
  }
  
  Dz.setProgress = function(aIdx, aStep) {
    var slide = $("section:nth-of-type("+ aIdx +")");
    if (!slide)
      return;
    var steps = slide.$$('.incremental > *').length + 1,
        slideSize = 100 / (this.slides.length - 1),
        stepSize = slideSize / steps;
    this.progressBar.style.width = ((aIdx - 1) * slideSize + aStep * stepSize) + '%';
  }
  
  Dz.postMsg = function(aWin, aMsg) { // [arg0, [arg1...]]
    aMsg = [aMsg];
    for (var i = 2; i < arguments.length; i++)
      aMsg.push(encodeURIComponent(arguments[i]));
    aWin.postMessage(aMsg.join(" "), "*");
  }
  
  function init() {
    Dz.init();
    window.onkeydown = Dz.onkeydown.bind(Dz);
    window.onresize = Dz.onresize.bind(Dz);
    window.onhashchange = Dz.onhashchange.bind(Dz);
    window.onmessage = Dz.onmessage.bind(Dz);
  }

  window.onload = init;
</script>


<script> // Helpers
  if (!Function.prototype.bind) {
    Function.prototype.bind = function (oThis) {

      // closest thing possible to the ECMAScript 5 internal IsCallable
      // function 
      if (typeof this !== "function")
      throw new TypeError(
        "Function.prototype.bind - what is trying to be fBound is not callable"
      );

      var aArgs = Array.prototype.slice.call(arguments, 1),
          fToBind = this,
          fNOP = function () {},
          fBound = function () {
            return fToBind.apply( this instanceof fNOP ? this : oThis || window,
                   aArgs.concat(Array.prototype.slice.call(arguments)));
          };

      fNOP.prototype = this.prototype;
      fBound.prototype = new fNOP();

      return fBound;
    };
  }

  var $ = (HTMLElement.prototype.$ = function(aQuery) {
    return this.querySelector(aQuery);
  }).bind(document);

  var $$ = (HTMLElement.prototype.$$ = function(aQuery) {
    return this.querySelectorAll(aQuery);
  }).bind(document);

  $$.forEach = function(nodeList, fun) {
    Array.prototype.forEach.call(nodeList, fun);
  }

</script>
<!-- vim: set fdm=marker: }}} -->
